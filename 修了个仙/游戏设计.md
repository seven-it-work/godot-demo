## 核心玩法
 
玩家可以选择几条线路，线路包含多种类型

## 页面设计


## 线路模块
属性：
名称：
类型：宝箱、菜鸡怪物、普通怪物、中级怪物、boss、剧情推动、灵气、回血池、客栈、聚宝阁、其他修仙者

运行完成后路线，继续随机生成路线

随机路线生成权重：
如果存在预定路线队列，优先从队列中获取。
宝箱（获得技能、装备、药品）：5
菜鸡怪物：25
普通怪物：20
中级怪物：15
BOSS：1
剧情推动：如果满足剧情触发条件则 100
灵力（获取灵力，灵力可以升级）：10
灵石（获取灵石，灵石是修仙界的货币）：10
回血池（恢复血量）：5
客栈（恢复血量、灵气）：10
聚宝阁（购物物品）：10
其他修仙者（交谈、接受任务、组队等）：10


### 修仙者

等级与境界：
练气期（0-500）间隔100：
**初探玄门**0-100
**渐入佳境**100-200
**登堂入室**200-300
**炉火纯青**300-400
**超凡入圣**400-500
筑基期（500-2,000）间隔300
开元期（2000-5,000）间隔 600
融合期（5000-10000）间隔 1000
金丹期（10000-20000）间隔 2000
元婴期（20000-40000）间隔 4000
化神期（40000-60000）间隔 4000
悟道期（60000-80000）间隔 4000
破虚期（80000-95000）间隔 3000
破虚期（95000-100000）间隔 2000

| 属性       | 初始值 | 升级增益公式                     |
| -------- | --- | -------------------------- |
| 生命值（HP）  | 100 | `100  + (RealmLevel * 2)`  |
| 灵气（Mana） | 50  | `50 + (RealmLevel * 1)`    |
| 攻击力      | 10  | `10  + (RealmLevel * 0.5)` |
| 防御力      | 5   | `5  + (RealmLevel * 0.3)`  |
| 等级       | 0   | +1                         |
| **命中率**  | 70% | 70%+(RealmLevel×0.5%)      |
| **闪避率**  | 10% | 10%+(RealmLevel×0.3%)      |
|          |     |                            |

### 怪物生成

波动范围(等级越高波动越小，目前设定100lv 波动50%)：
随机波动范围：±1-sigmoid_growth(lv)/100
sigmoid_growth见：MathFunc.sigmoid_growth
eg:`1-0.047=[-99.53,99.53]/100`
`最终属性 = 基础属性 * (1 + [-0.1,0.1])`
eg：生命值=`(MaxHP  + (RealmLevel * 2))*(1+[-0.1,0.1])`
### 战斗
实际物理伤害 = 攻击方攻击力 - 防御方防御力
实际命中率=min(max(命中率−闪避率,0),1)

## 技能系统
### 属性
名称
品级：凡级#D3D3D3、灵级#00A878、地级#9DD6DF、天级#4B0082、玄级#DE4C4F、圣级#FFD700、绝世#FADA5E
基础伤害：
消耗灵力：
冷却时间：
附加效果：

### 随机生成规则：
1、随机品级生成
2、根据品级生成基础伤害：
10+随机(0-10)
20+随机(0-20)
30+随机(0-30)
...
3、消耗灵力
5+随机值(0-5)
10+随机值(0-10)
15+随机值(0-15)
...
4、冷却时间
随机值(1-2)
随机值(1-3)
随机值(1-4)
5、附加效果
todo 参考而已
### 金属性（代表攻击、穿透）

1. **破甲**：减少目标防御力，每层减少5点防御，持续2回合。技能等级越高，叠加层数越多。
2. **精准打击**：提高对敌人的命中率，初始为5%，每级提升1%命中率。
3. **反击**：当受到攻击时有一定几率进行反击，初始概率为10%，每次反击造成基础伤害的50%，随技能等级提升，反击概率和伤害比例都会增加。

### 木属性（代表恢复、生长）

1. **生命值加成**：在回合开始时恢复一定量的生命值，初始为5%最大生命值，每级增加1%。
2. **中毒**：对敌人造成持续伤害，每回合损失10点生命值，持续2回合，可叠加至3层。技能等级越高，每层伤害和叠加层数上限增加。
3. **再生**：在回合结束时有一定几率恢复少量生命值，初始为5%最大生命值，每级增加1%几率。

### 水属性（代表控制、削弱）

1. **减速**：降低敌人的速度，使其行动顺序延后，初始减慢一个位置，随技能等级提升影响范围增加。
2. **冰冻**：有一定概率使敌人冻结，无法行动一回合，初始概率为10%，技能等级越高冻结概率越高。
3. **沉默**：阻止敌人使用技能，持续一回合，初始成功率为15%，每级成功率增加2%。

### 火属性（代表直接伤害、爆发）

1. **灼烧**：对目标造成持续伤害，每回合损失15点生命值，持续2回合，随技能等级提升伤害和持续时间增加。
2. **火焰爆炸**：对所有敌人造成10点火焰伤害。
3. **点燃**：使目标易燃，下次受到火属性攻击时伤害翻倍，持续直到被触发或回合结束。

### 土属性（代表防御、稳定）

1. **护盾**：为自己或队友生成一个吸收伤害的护盾，初始吸收量为50点，持续2回合。技能等级越高，吸收量和持续时间增加。
2. **定身**：有一定概率使敌人无法攻击，持续一回合，初始概率为15%，随技能等级提升定身概率增加。
3. **强化防御**：暂时提升自身或队友的防御力，初始提升10点防御，持续2回合，每级提升幅度增加。